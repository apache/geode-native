#! Licensed to the Apache Software Foundation (ASF) under one or more
#! contributor license agreements.  See the NOTICE file distributed with
#! this work for additional information regarding copyright ownership.
#! The ASF licenses this file to You under the Apache License, Version 2.0
#! (the "License"); you may not use this file except in compliance with
#! the License.  You may obtain a copy of the License at
#!
#!      http://www.apache.org/licenses/LICENSE-2.0
#!
#! Unless required by applicable law or agreed to in writing, software
#! distributed under the License is distributed on an "AS IS" BASIS,
#! WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#! See the License for the specific language governing permissions and
#! limitations under the License.

#@data/values
---
pipeline:
  name: develop

repository:
  url: https://github.com/apache/geode-native
  branch: develop

google:
  project: apachegeode-ci
  zone: us-central1-f

default:
  build:
    name: #@ None
    image_family: #@ None
    source_image_family: #@ None
    with_dot_net: #@ False
    params:
      CMAKE_CONFIGURE_FLAGS:
      CMAKE_BUILD_FLAGS: "-j16"
      CPACK_GENERATORS: "TGZ"

builds:
  - name: windows
    image_family: build-windows-2019-vs-2017
    source_image_family: windows-2019
    with_dot_net: #@ True
    params:
      CMAKE_CONFIGURE_FLAGS: "-A x64 -Thost=x64"
      CMAKE_BUILD_FLAGS: "/m"
      CPACK_GENERATORS: "ZIP"
  - name: rhel-7
    image_family: build-rhel-7
    source_image_family: rhel-7
  - name: rhel-8
    image_family: build-rhel-8
    source_image_family: rhel-8
  - name: ubuntu-16.04
    image_family: build-ubuntu-16-04
    source_image_family: ubuntu-1604-lts
  - name: ubuntu-18.04
    image_family: build-ubuntu-18-04
    source_image_family: ubuntu-1804-lts

configs:
  - name: debug
    config: Debug
  - name: release
    config: RelWithDebInfo
